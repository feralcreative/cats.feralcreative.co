#!/bin/bash
################################################################################
# Deployment Configuration for cats.feralcreative.co
################################################################################

# Detect environment (set by prod.sh or stage.sh wrapper scripts)
DEPLOY_ENV="${DEPLOY_ENV:-production}"

# Project Configuration
PROJECT_NAME="cats"

# Production Configuration
PROD_DOMAIN="cats.feralcreative.co"
PROD_CONTAINER_NAME="cats"
PROD_IMAGE_NAME="cats:latest"

# Staging Configuration (not used for this project, but kept for consistency)
STAGE_DOMAIN="stage.cats.feralcreative.co"
STAGE_CONTAINER_NAME="cats-stage"
STAGE_IMAGE_NAME="cats:stage"

# Set active configuration based on environment
if [ "$DEPLOY_ENV" = "staging" ]; then
    DOMAIN="$STAGE_DOMAIN"
    CONTAINER_NAME="$STAGE_CONTAINER_NAME"
    IMAGE_NAME="$STAGE_IMAGE_NAME"
else
    DOMAIN="$PROD_DOMAIN"
    CONTAINER_NAME="$PROD_CONTAINER_NAME"
    IMAGE_NAME="$PROD_IMAGE_NAME"
fi

# NAS Configuration
NAS_USER="ziad"
NAS_HOST="nas.feralcreative.co"
NAS_SSH_PORT="${NAS_SSH_PORT:-33725}"
NAS_DEPLOY_BASE="/volume1/web"
NAS_DEPLOY_PATH="${NAS_DEPLOY_BASE}/${DOMAIN}"

# Docker Configuration
DOCKER_PLATFORM="linux/amd64"

# Application Configuration
# Add any app-specific ports, paths, or settings here
# APP_PORT="8080"

# Optional: Pre-build hook script (relative to project root)
# This script runs before Docker build
# PRE_BUILD_HOOK="utils/deploy/hooks/pre-build.sh"

# Optional: Post-deploy hook script (relative to project root)
# This script runs after container is deployed
# POST_DEPLOY_HOOK="utils/deploy/hooks/post-deploy.sh"

# Optional: Custom data files to transfer (space-separated list)
# DATA_FILES="data/config.json data/settings.yml"

# Optional: Custom directories to create on NAS (space-separated list)
# CUSTOM_DIRS="recordings streams cache"
